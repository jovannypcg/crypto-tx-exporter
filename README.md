# Crypto Transaction Exporter

`crypto-tx-exporter` is a Kotlin-based command-line tool that fetches and exports the transaction history of an Ethereum
wallet address into a structured CSV file.

It supports the following transaction types:

* ETH transfers (normal transactions)
* Internal transfers
* ERC-20 token transfers
* ERC-721 NFT transfers
* ERC-1155 multi-token transfers

The output CSV includes important details such as transaction hash, timestamp, sender and recipient addresses,
transaction type, token information, transferred amount, and gas fees (in ETH).

## Prerequisites

* Install [SDKMan](https://sdkman.io) (tool to manage Java & Maven)
  ```shell
  curl -s "https://get.sdkman.io" | bash
  source "$HOME/.sdkman/bin/sdkman-init.sh"
   ```

* Install Java 17
  ```shell
  sdk install java 17.0.16-zulu
  sdk use java 17.0.16-zulu
   ```

* Install Maven
  ```shell
  sdk install maven
  ```

* Etherscan Setup
  * You'll need a free [Etherscan](https://etherscan.io/) account to access their API.
  * Go to https://etherscan.io/register and create an account.
  * After logging in, go to your [API Keys dashboard](https://etherscan.io/myapikey).
  * Click `+ Add` to generate a new key (you can name it anything, e.g., `tx-exporter`).
  * Copy the generated API key as you'll need it when running the script.


## Build and Execution

* Build the `.jar` using Maven:
  ```shell
  mvn clean package
  ```
  This will generate a file like `target/crypto-tx-exporter-1.0-SNAPSHOT.jar`

* Run the Exporter:
  ```shell
  java -jar target/crypto-tx-exporter-1.0-SNAPSHOT.jar \
  YOUR_ETHERSCAN_API_KEY \
  0xFB50526f49894B78541B776F5aaefE43e3Bd8590 \
  ./samples/transactions_sample.csv
  ```
  Arguments:
  * `etherscan_api_key`: Your API key from etherscan.io.
  * `wallet_address`: Ethereum address to export transactions from.
  * `output_csv_path`: Path to the file where transactions will be saved.

## Sample Output

The `samples/directory` contains an example CSV file generated by the script.

The files in that directory demonstrates the format and contents of a typical export, including:
* Transaction hashes
* Timestamps
* Sender and recipient addresses
* Transaction types (ETH, ERC-20, ERC-721, ERC-1155, internal)
* Token/NFT metadata
* Amounts and gas fees (in ETH)

You can open it in any spreadsheet tool or import it into portfolio tracking software.
